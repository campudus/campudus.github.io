{% capture fnRes %}
{% if include.page.id == nil %}

{% if include.page.idPrefix != nil %}
{% capture xxx %}/{% include fn/name-without-extension.lq page=include.page %}{% endcapture %}
{{ include.page.idPrefix }}{% if xxx != '/index' %}{{ xxx }}{% endif %}
{% else %}
{% include fn/url-without-current-lang-and-extension.lq page=include.page %}
{% endif %}

{% else %}

{{ include.page.id }}

{% endif %}
{% endcapture %}{{ fnRes | strip_newlines }}